<h1>Manage Guiders</h1>

<div id="users">
  <form class="form-inline">
    <div class="form-group">
      <label for="user-search">Search</label>
      <input class="search form-control" name="user-search" id="user-search" placeholder="Search">
    </div>
  </form>


  <table class="table table-striped table-bordered table-hover">
    <caption><span class="sr-only">List of guiders</span></caption>
    <colgroup>
      <col width="1%">
      <col width="98%">
      <col width="1%">
    </colgroup>
    <thead>
      <tr>
        <th><label for="select-all"><input type="checkbox" class="select-all" id="select-all"> <span class="sr-only">Select All</span></label></th>
        <th><span class="sort" data-sort="name">Name</span></th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody class="list">
      <% @guiders.each do |guider| %>
      <tr>
        <td><label for="guider_<%= guider.id %>"><input type="checkbox" name="guider_<%= guider.id %>" id="guider_<%= guider.id %>"><span class="sr-only">Select <%= guider.name %></span></label></td>
        <td class="name"><%= guider.name %></td>
        <td><%= link_to edit_user_path(guider), title: "Edit #{guider.name}", :class => 'btn btn-info' do %><span class="glyphicon glyphicon-pencil"></span><span class="sr-only">Edit Guider</span><% end %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>

<script>
$(function() {
  $('thead .sort').each(function() {
    $(this).replaceWith($(this)[0].outerHTML.replace('span', 'button'));
  });

  var userList = new List('users', {
    valueNames: ['name', 'email']
  }),
  checkboxes = $('tbody input[type=checkbox]');

  checkboxes.on('change', function() {
    $(this).parents('tr').toggleClass('info');
  });

  $('#select-all').on('change', function() {
    checkboxes.prop("checked", $(this).prop("checked"));
    checkboxes.parents('tr').toggleClass('info');
  });
});
</script>
